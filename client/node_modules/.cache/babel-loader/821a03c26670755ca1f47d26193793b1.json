{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Skoli\\\\Vefforritun\\\\Assignment4\\\\client\\\\src\\\\components\\\\ChatWindow\\\\ChatWindow.js\";\nimport React from 'react';\nimport { socket } from '../../services/socketService';\n\nvar ChatWindow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChatWindow, _React$Component);\n\n  _createClass(ChatWindow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(socket);\n      socket.on('message', function (message) {\n        var messages = _this2.state.messages;\n\n        _this2.setState({\n          messages: [].concat(_toConsumableArray(messages), [message]),\n          nick: ''\n        });\n      });\n    }\n  }]);\n\n  function ChatWindow(props) {\n    var _this;\n\n    _classCallCheck(this, ChatWindow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatWindow).call(this, props));\n    _this.state = {\n      messages: [],\n\n      /* List of all messages within the public lobby */\n      message: '',\n\n      /* Current message */\n      nick: ''\n    };\n    return _this;\n  }\n\n  _createClass(ChatWindow, [{\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      if (message === '') {\n        return false;\n      }\n\n      socket.emit('message', message);\n      this.setState({\n        message: ''\n      });\n    }\n  }, {\n    key: \"setNick\",\n    value: function setNick(nick) {\n      var users = this.props.users;\n      var boolean = false;\n\n      for (var i = 0; i < users.length; i++) {\n        if (nick == users[i]) {\n          boolean = true;\n          break;\n        }\n      }\n\n      if (nick == '') {\n        return false;\n      } else if (boolean) {\n        return false;\n      } else {\n        socket.emit('nick', nick);\n      }\n\n      document.getElementByclass(\"chat-window\").style.display = inline;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var users = this.props.users;\n      var _this$state = this.state,\n          messages = _this$state.messages,\n          message = _this$state.message,\n          nick = _this$state.nick;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"nick-window\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: nick,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            nick: e.target.value\n          });\n        },\n        placeholder: \"Enter your nick here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return _this3.setNick(nick);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Send\"))), React.createElement(\"div\", {\n        className: \"chat-window\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(ChatWindow.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(ChatWindow.Messages, {\n        messages: messages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(ChatWindow.Users, {\n        users: users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            message: e.target.value\n          });\n        },\n        placeholder: \"Enter your message here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return _this3.sendMessage(message);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Send\"))));\n    }\n  }]);\n\n  return ChatWindow;\n}(React.Component);\n\n;\n\nChatWindow.Title = function () {\n  return React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"first\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"C\"), React.createElement(\"span\", {\n    className: \"second\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"h\"), React.createElement(\"span\", {\n    className: \"third\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"a\"), React.createElement(\"span\", {\n    className: \"fourth\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"t\"), React.createElement(\"span\", {\n    className: \"fifth\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \".\"), React.createElement(\"span\", {\n    className: \"sixth\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"i\"), React.createElement(\"span\", {\n    className: \"seventh\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"o\"));\n};\n\nChatWindow.Messages = function (props) {\n  return React.createElement(\"div\", {\n    className: \"messages\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, props.messages.map(function (m) {\n    return React.createElement(\"div\", {\n      key: m,\n      className: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, m);\n  }));\n};\n\nChatWindow.Users = function (props) {\n  return React.createElement(\"div\", {\n    className: \"users\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, props.users.map(function (u) {\n    return React.createElement(\"div\", {\n      key: u,\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, u);\n  }));\n};\n\nexport default ChatWindow;","map":{"version":3,"sources":["C:\\Skoli\\Vefforritun\\Assignment4\\client\\src\\components\\ChatWindow\\ChatWindow.js"],"names":["React","socket","ChatWindow","console","log","on","message","messages","state","setState","nick","props","emit","users","boolean","i","length","document","getElementByclass","style","display","inline","e","target","value","setNick","sendMessage","Component","Title","Messages","map","m","Users","u"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { socket } from '../../services/socketService';\r\n\r\nclass ChatWindow extends React.Component {\r\n    componentDidMount() {\r\n        console.log(socket);\r\n        socket.on('message', message => {\r\n            const { messages } = this.state;\r\n            this.setState({ messages: [ ...messages, message ], nick: '' });\r\n        });\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messages: [], /* List of all messages within the public lobby */\r\n            message: '', /* Current message */\r\n            nick: ''\r\n        };\r\n    }\r\n    sendMessage(message) {\r\n        if (message === '') { return false; }\r\n        socket.emit('message', message);\r\n        this.setState({ message: '' });\r\n    }\r\n    setNick(nick) {\r\n      const { users } = this.props;\r\n      var boolean = false;\r\n      for(var i = 0;i < users.length;i++)\r\n      {\r\n        if(nick == users[i]) {boolean = true; break;}\r\n      }\r\n      if(nick == '') {return false; }\r\n      else if(boolean) {return false; }\r\n      else { socket.emit('nick', nick); }\r\n      document.getElementByclass(\"chat-window\").style.display = inline;\r\n    }\r\n    render() {\r\n        const { users } = this.props;\r\n        const { messages, message, nick } = this.state;\r\n        return (\r\n          <div className =\"container\">\r\n            <div className=\"nick-window\">\r\n              <div className=\"input-container\">\r\n                  <input type=\"text\" value={ nick } onChange={e => this.setState({ nick: e.target.value })} placeholder=\"Enter your nick here...\" />\r\n                  <button type=\"button\" onClick={() => this.setNick(nick)}>Send</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"chat-window\">\r\n                <ChatWindow.Title />\r\n                <ChatWindow.Messages messages={ messages } />\r\n                <ChatWindow.Users users={ users } />\r\n                <div className=\"input-container\">\r\n                    <input type=\"text\" value={ message } onChange={e => this.setState({ message: e.target.value })} placeholder=\"Enter your message here...\" />\r\n                    <button type=\"button\" onClick={() => this.sendMessage(message)}>Send</button>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n};\r\n\r\nChatWindow.Title = () => (\r\n    <h3>\r\n        <span className=\"first\">C</span>\r\n        <span className=\"second\">h</span>\r\n        <span className=\"third\">a</span>\r\n        <span className=\"fourth\">t</span>\r\n        <span className=\"fifth\">.</span>\r\n        <span className=\"sixth\">i</span>\r\n        <span className=\"seventh\">o</span>\r\n    </h3>\r\n);\r\n\r\nChatWindow.Messages = props => (\r\n    <div className=\"messages\">\r\n        { props.messages.map(m => <div key={ m } className=\"message\">{ m }</div>) }\r\n    </div>\r\n);\r\n\r\nChatWindow.Users = props => (\r\n    <div className=\"users\">\r\n        { props.users.map(u => <div key={ u } className=\"user\">{ u }</div>) }\r\n    </div>\r\n);\r\n\r\nexport default ChatWindow;\r\n"]},"metadata":{},"sourceType":"module"}